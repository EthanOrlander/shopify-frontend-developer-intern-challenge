(this["webpackJsonpcreate-react-app-ts-react-testing"]=this["webpackJsonpcreate-react-app-ts-react-testing"]||[]).push([[0],{115:function(t,e,n){"use strict";n.r(e);var r,c,i,a,o=n(45),s=n.n(o),u=n(120),d=n(83),j=(n(89),n(4)),b=n(119),l=n(122),f=n(5),h=n(65),O=n(42),p=n(123),g=n(12),x=n(22),m=n(43),v=n(118),k=n(30),y=n.n(k),A=n(3),S=m.a.div(r||(r=Object(O.a)(["\n  position: relative;\n"]))),w=m.a.img(c||(c=Object(O.a)(["\n  display: block;\n  width: 100%;\n  height: auto;\n"]))),Y=m.a.div(i||(i=Object(O.a)(["\n  position: absolute;\n  top: 0;\n  background: rgb(0, 0, 0);\n  background: rgba(0, 0, 0, 0.5); /* Black see-through */\n  color: #f1f1f1;\n  width: 100%;\n  font-size: 20px;\n  padding: 20px;\n  text-align: center;\n"]))),P=m.a.div(a||(a=Object(O.a)(["\n  position: absolute;\n  bottom: 0;\n  background: rgb(0, 0, 0);\n  background: rgba(0, 0, 0, 0.5); /* Black see-through */\n  width: 100%;\n  font-size: 20px;\n  padding: 20px;\n  text-align: center;\n"])));function D(t){var e=t.item,n=e.title,r=e.explanation,c=e.hdurl,i=e.url,a=e.date,o=t.liked,s=t.setLiked;return Object(A.jsx)(p.a,{portrait:!0,title:y()(a).format("MMM. D, YYYY"),description:r,children:Object(A.jsxs)(S,{children:[Object(A.jsx)(w,{alt:"",width:"100%",height:"100%",style:{objectFit:"cover",objectPosition:"center"},src:c||i}),Object(A.jsx)(Y,{children:n}),Object(A.jsx)(P,{children:Object(A.jsx)(g.a,{icon:function(){return Object(A.jsx)(x.a,{source:function(){return Object(A.jsx)(v.a,{style:{fill:o?"red":"white"}})},accessibilityLabel:"Like button"})},onClick:function(){return s(!o)},plain:!0})})]})})}var M=n(121);function z(t){var e=t.title,n=t.description,r=t.status;return Object(A.jsx)(M.a,{title:e,status:r,children:Object(A.jsx)("p",{children:n})})}var E=n(68),I=n(84),N=n(124),B=n(125);function F(){return Object(A.jsx)(E.a,{sectioned:!0,children:Object(A.jsxs)(I.a,{children:[Object(A.jsx)(N.a,{size:"small"}),Object(A.jsx)(B.a,{})]})})}var L=n(0);function U(t){var e=t.page,n=Object(L.useState)(null),r=Object(j.a)(n,2),c=r[0],i=r[1],a=Object(L.useState)(!1),o=Object(j.a)(a,2),s=o[0],u=o[1],d=Object(L.useState)([]),b=Object(j.a)(d,2),l=b[0],O=b[1];if(Object(L.useEffect)((function(){var t=y()().subtract(10*(e+1)-1,"d").format("YYYY-MM-DD"),n=y()().subtract(10*e,"d").format("YYYY-MM-DD");u(!1);var r=new URLSearchParams({api_key:"IF48Q1mc5u5nwZMQHnbSmEDJU8kxlmCzzUABNfUF",start_date:t,end_date:n});fetch("https://api.nasa.gov/planetary/apod?".concat(r.toString())).then((function(t){if(t.ok)return t.json();var e="";if(403===t.status)e="Authentication error. Ensure you are using a valid API key";else e="Unrecognized error: NASA API response: ".concat(JSON.stringify(t));throw Error(e)})).then((function(t){u(!0),O((function(){return t.map((function(t){return{id:t.date,item:t,liked:!1}})).sort((function(t,e){return y()(e.item.date).diff(y()(t.item.date))}))}))}),(function(t){u(!0),i(t.message)})).catch((function(t){return i(t)}))}),[e]),c)return Object(A.jsx)(z,{title:"API Error",description:c,status:"critical"});if(s){var p=l.map((function(t){var e=t.id,n=t.item,r=t.liked;return Object(A.jsx)(D,{item:n,liked:r,setLiked:function(t){return function(t,e){O((function(n){return n.map((function(n){return n.id===t?Object(h.a)(Object(h.a)({},n),{},{liked:e}):n}))}))}(e,t)}},e)}));return Object(A.jsx)(A.Fragment,{children:p})}return Object(A.jsx)(A.Fragment,{children:Object(f.a)(Array(10)).map((function(t,e){return Object(A.jsx)(F,{},e)}))})}function J(){var t=Object(L.useState)(0),e=Object(j.a)(t,2),n=e[0],r=e[1];return Object(A.jsx)(b.a,{title:"Spacestagram",subtitle:"Brought to you by NASA's Astronomy Photo of the Day (APOD) API",narrowWidth:!0,pagination:{hasPrevious:n>0,hasNext:!0,onNext:function(){return r((function(t){return t+1}))},onPrevious:function(){return r((function(t){return t-1}))}},children:Object(A.jsx)(l.a,{children:Object(A.jsx)(l.a.AnnotatedSection,{children:Object(A.jsx)(U,{page:n})})})})}s.a.render(Object(A.jsx)(u.a,{i18n:d,theme:{colors:{surface:"#111213",onSurface:"#111213",interactive:"#2e72d2",secondary:"#111213",primary:"#3b5998",critical:"#d82c0d",warning:"#ffc453",highlight:"#5bcdda",success:"#008060",decorative:"#ffc96b"}},children:Object(A.jsx)(J,{})}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.f5c87094.chunk.js.map